<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>

<p id="myparagraph">hello</p>
	<form id="thisformshouldsubmit" onsubmit= "return validaterecatcha();">
	<input type="text">
	<input type="button">
	</form>
<script>
	
console.log( "ready!" );
var flag = false;
	
//Start Preparing Token Client Side

var inner = function(x) { console.log("x value is " + x); return x;}
window.alert("This value will be sent to SUBMIT function" +  inner);
// test 1


/*function validaterecatcha(flag)
	{
	return inner = function(x) { console.log("x value is " + x); }
	}*/
	
	
	

	
$.get( "https://liz-ish.github.io/frogbotherchatapp/returnmyobject.js", function( data ){
console.log("here it is:");
console.log("Data Loaded:" + data);

	var text = data ;
		var obj = JSON.parse(text);
		var resultsuccess = obj["success"];
		var resultscore = obj["score"];
		console.log(resultsuccess + " and score is " + resultscore );
		if ( obj["success"] == "true" )
		{
		console.log("Safe Connection - ready to submit"  );
		//window.alert('good to go');
	flag =  true;
		} 
		else 
		{
		console.log("Will not submit"  ); 
		flag =   false;
	        $("#myparagraph").html("this shoudl change now!");
	 	}

(function(cb) { var x = flag; cb(x); })(inner);	

		
	
});
console.log("global flag is " + flag);


console.log("global flag is " + flag);
 // The last brackets execute the outer function

	
	
	
	
	
	</script>		



</body>

</html>
		
